'use client'
import{useAtom as v,useSetAtom as f}from"jotai";import{useEffect as i,forwardRef as g,createContext as w}from"react";import{Command as c}from"cmdk";import{atom as l}from"jotai";var u=l(""),y=l(null);import{createStore as E}from"jotai";var d=E();import{jsx as t,jsxs as R}from"react/jsx-runtime";var C=w({}),T=({query:n,range:r})=>{let m=f(u,{store:d}),a=f(y,{store:d});return i(()=>{m(n)},[n,m]),i(()=>{a(r)},[r,a]),i(()=>{let o=["ArrowUp","ArrowDown","Enter"],s=e=>{if(o.includes(e.key)){e.preventDefault();let p=document.querySelector("#slash-command");return p&&p.dispatchEvent(new KeyboardEvent("keydown",{key:e.key,cancelable:!0,bubbles:!0})),!1}};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[]),t(C.Consumer,{children:o=>t(o.Out,{})})},x=g(({children:n,className:r,...m},a)=>{let[o,s]=v(u);return t(C.Consumer,{children:e=>t(e.In,{children:R(c,{ref:a,onKeyDown:p=>{p.stopPropagation()},id:"slash-command",className:r,...m,children:[t(c.Input,{value:o,onValueChange:s,style:{display:"none"}}),n]})})})}),q=c.List;x.displayName="EditorCommand";export{d as a,y as b,C as c,T as d,x as e,q as f};
