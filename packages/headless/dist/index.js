'use client'
import{a as l,b as s,c as u,e as R,f as v}from"./chunk-RKJYVIBZ.js";import{useCurrentEditor as Ro}from"@tiptap/react";import{}from"@tiptap/core";import{EditorProvider as x}from"@tiptap/react";import{Provider as N}from"jotai";import{forwardRef as I,useRef as h}from"react";import B from"tunnel-rat";import{jsx as d}from"react/jsx-runtime";var M=({children:e})=>{let o=h(B()).current;return d(N,{store:l,children:d(u.Provider,{value:o,children:e})})},c=I(({className:e,children:o,initialContent:n,...i},r)=>d("div",{ref:r,className:e,children:d(x,{...i,content:n,children:o})}));c.displayName="EditorContent";import{BubbleMenu as S,isNodeSelection as g,useCurrentEditor as w}from"@tiptap/react";import{useMemo as T,useRef as L,useEffect as D,forwardRef as H}from"react";import{jsx as f}from"react/jsx-runtime";var E=H(({children:e,tippyOptions:o,...n},i)=>{let{editor:r}=w(),t=L(null);D(()=>{!t.current||!o?.placement||(t.current.setProps({placement:o.placement}),t.current.popperInstance?.update())},[o?.placement]);let p=T(()=>({shouldShow:({editor:m,state:P})=>{let{selection:a}=P,{empty:y}=a;return!(!m.isEditable||m.isActive("image")||y||g(a))},tippyOptions:{onCreate:m=>{t.current=m},moveTransition:"transform 0.15s ease-out",...o},...n}),[n,o]);return r?f("div",{ref:i,children:f(S,{editor:r,...p,children:e})}):null});E.displayName="EditorBubble";import{forwardRef as O}from"react";import{Slot as W}from"@radix-ui/react-slot";import{useCurrentEditor as A}from"@tiptap/react";import{jsx as J}from"react/jsx-runtime";var C=O(({children:e,asChild:o,onSelect:n,...i},r)=>{let{editor:t}=A(),p=o?W:"div";return t?J(p,{ref:r,...i,onClick:()=>n?.(t),children:e}):null});C.displayName="EditorBubbleItem";import{forwardRef as F}from"react";import{CommandEmpty as k,CommandItem as V}from"cmdk";import{useCurrentEditor as q}from"@tiptap/react";import{useAtomValue as z}from"jotai";import{jsx as K}from"react/jsx-runtime";var b=F(({children:e,onCommand:o,...n},i)=>{let{editor:r}=q(),t=z(s);return!r||!t?null:K(V,{ref:i,...n,onSelect:()=>o({editor:r,range:t}),children:e})});b.displayName="EditorCommandItem";var G=k;export{E as EditorBubble,C as EditorBubbleItem,R as EditorCommand,G as EditorCommandEmpty,b as EditorCommandItem,v as EditorCommandList,c as EditorContent,M as EditorRoot,Ro as useEditor};
